<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>12.2  Login mit PHP</title>


</head>
<style>



#aufgabe {
	background:#dafdff;
	border: 1px solid black;
}


.execute {
  padding: 5px 11px;
  cursor: pointer;
  font-size: 17px;
  font-family: Verdana, sans-serif;
  text-shadow: 3px 3px 3px #ababab;

  color: white;
  background-color: #689ef7;
  border: none;
  border-radius: 9px;
}

/*W3school*/
.execute:active {
   box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2), 0 6px 20px 0 rgba(0,0,0,0.19);
  transform: translateY(8px);
}

pre {
	overflow: auto;
	background:#e3fcde;
	border:2px solid gray;
	border-style: dotted;
}


</style>	

<body>
	<div id="aufgabe"><h1>12.2  Login mit PHP</h1>
	<p><b>Schreiben Sie eine sichere PHP-Lösung für Login, das die persistierten Registrierungsdaten aus der letzten Aufgabe nutzt. </b></p>
  	<p>Geben Sie alle Ihre PHP-Skripte hier an:</p>

	<pre>
&lt;?php
    $name = filter_input(INPUT_POST, 'name', FILTER_SANITIZE_STRING);
    $password = filter_input(INPUT_POST, 'password', FILTER_SANITIZE_STRING);

    if (($handle = fopen("./raw_passwd.csv", "r")) !== FALSE) {
        while (($data = fgetcsv($handle, 0, ",")) !== FALSE) {
            if ($data[0] === $user) {
                if (password_verify($passwd, $data[1])) {
                    echo "&lt;script>&lt;alert>Login erfolgreich!&lt;/script>";
                } else {
                    echo "$password Login Fehlgeschlagen";
                }
            }
        }
        fclose($handle);
    }
?>
	</pre>
 	<p>Geben Sie Ihren Client-Code (HTML, CSS, Javascript), falls zusätzlich zum PHP-Skript vorhanden, hier an:<p>

	<pre>&lt;!DOCTYPE html>
&lt;h1>Login&lt;/h1>
&lt;form method="post">
    &lt;fieldset>
        &lt;legend>Login &lt;/legend>
        Account name: &lt;br>
        &lt;input type="text" name="account">
        &lt;br>
        Password: &lt;br>
        &lt;input type="password" name="password">
        &lt;br>&lt;/br>
        &lt;input type="submit" value="Submit">
    &lt;/fieldset>
&lt;/form>
	</pre>
</body>
</html>